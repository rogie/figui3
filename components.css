:root {
  color-scheme: light dark;

  /* Background Colors */
  --figma-color-bg: light-dark(#ffffff, #2c2c2c);
  --figma-color-bg-brand: light-dark(#0d99ff, #0c8ce9);
  --figma-color-bg-menu: #1e1e1e;
  --figma-color-bg-menu-hover: #0c8ce9;
  --figma-color-bg-brand-hover: light-dark(#007be5, #0a6dc2);
  --figma-color-bg-brand-pressed: light-dark(#0768cf, #105cad);
  --figma-color-bg-brand-secondary: light-dark(#0768cf, #105cad);
  --figma-color-bg-brand-tertiary: light-dark(#e5f4ff, #394360);
  --figma-color-bg-component: light-dark(#9747ff, #8a38f5);
  --figma-color-bg-component-hover: light-dark(#8638e5, #7a2ed6);
  --figma-color-bg-component-pressed: light-dark(#8638e5, #7a2ed6);
  --figma-color-bg-component-secondary: light-dark(#7c2bda, #652ca8);
  --figma-color-bg-component-tertiary: light-dark(#f1e5ff, #473956);
  --figma-color-bg-danger: light-dark(#f24822, #e03e1a);
  --figma-color-bg-danger-hover: light-dark(#dc3412, #c4381c);
  --figma-color-bg-danger-pressed: light-dark(#dc3412, #c4381c);
  --figma-color-bg-danger-secondary: light-dark(#bd2915, #963323);
  --figma-color-bg-danger-tertiary: light-dark(#ffe2e0, #60332a);
  --figma-color-bg-disabled: light-dark(#d9d9d9, #757575);
  --figma-color-bg-disabled-secondary: #b3b3b3;
  --figma-color-bg-hover: light-dark(#f5f5f5, #383838);
  --figma-color-bg-inverse: light-dark(#2c2c2c, #ffffff);
  --figma-color-bg-onselected: light-dark(#bde3ff, #667799);
  --figma-color-bg-onselected-hover: light-dark(#bde3ff, #667799);
  --figma-color-bg-onselected-pressed: light-dark(#bde3ff, #667799);
  --figma-color-bg-pressed: light-dark(#f5f5f5, #383838);
  --figma-color-bg-secondary: light-dark(#f5f5f5, #383838);
  --figma-color-bg-selected: light-dark(#e5f4ff, #4a5878);
  --figma-color-bg-selected-hover: light-dark(#bde3ff, #536383);
  --figma-color-bg-selected-pressed: light-dark(#bde3ff, #536383);
  --figma-color-bg-selected-secondary: light-dark(#f2f9ff, #394360);
  --figma-color-bg-selected-strong: light-dark(#0d99ff, #0c8ce9);
  --figma-color-bg-selected-tertiary: light-dark(#f2f9ff, #394360);
  --figma-color-bg-success: light-dark(#14ae5c, #198f51);
  --figma-color-bg-success-hover: light-dark(#009951, #078348);
  --figma-color-bg-success-pressed: light-dark(#009951, #078348);
  --figma-color-bg-success-secondary: light-dark(#008043, #0a5c35);
  --figma-color-bg-success-tertiary: light-dark(#cff7d3, #476656);
  --figma-color-bg-tertiary: light-dark(#e6e6e6, #444444);
  --figma-color-bg-warning: light-dark(#ffcd29, #f3c11b);
  --figma-color-bg-warning-hover: light-dark(#ffc21a, #f2b50d);
  --figma-color-bg-warning-pressed: light-dark(#ffc21a, #f2b50d);
  --figma-color-bg-warning-secondary: light-dark(#fab815, #e4a711);
  --figma-color-bg-warning-tertiary: light-dark(#fff1c2, #5c4100);
  --figma-color-bg-switch: light-dark(#e6e6e6, #444444);

  /* Border Colors */
  --figma-color-border: light-dark(#e6e6e6, #444444);
  --figma-color-border-brand: light-dark(#bde3ff, #105cad);
  --figma-color-border-brand-strong: light-dark(#007be5, #7cc4f8);
  --figma-color-border-component: light-dark(#e4ccff, #652ca8);
  --figma-color-border-component-hover: light-dark(#9747ff, #8a38f5);
  --figma-color-border-component-strong: light-dark(#8638e5, #d6b6fb);
  --figma-color-border-danger: light-dark(#ffc7c2, #963323);
  --figma-color-border-danger-strong: light-dark(#dc3412, #fca397);
  --figma-color-border-disabled: light-dark(#e6e6e6, #444444);
  --figma-color-border-disabled-strong: light-dark(#0000004d, #ffffff66);
  --figma-color-border-menu: #383838;
  --figma-color-border-onbrand: light-dark(#007be5, #0a6dc2);
  --figma-color-border-onbrand-strong: #ffffff;
  --figma-color-border-oncomponent: light-dark(#8638e5, #7a2ed6);
  --figma-color-border-oncomponent-strong: #ffffff;
  --figma-color-border-ondanger: light-dark(#dc3412, #c4381c);
  --figma-color-border-ondanger-strong: #ffffff;
  --figma-color-border-onselected: light-dark(#bde3ff, #667799);
  --figma-color-border-onselected-strong: light-dark(#000000e5, #ffffffe5);
  --figma-color-border-onsuccess: light-dark(#009951, #078348);
  --figma-color-border-onsuccess-strong: #ffffff;
  --figma-color-border-onwarning: light-dark(#fab815, #e4a711);
  --figma-color-border-onwarning-strong: #000000e5;
  --figma-color-border-selected: light-dark(#0d99ff, #0c8ce9);
  --figma-color-border-selected-strong: light-dark(#007be5, #7cc4f8);
  --figma-color-border-strong: light-dark(#2c2c2c, #ffffffe5);
  --figma-color-border-success: light-dark(#aff4c6, #0a5c35);
  --figma-color-border-success-strong: light-dark(#009951, #79d297);
  --figma-color-border-warning: light-dark(#ffe8a3, #925711);
  --figma-color-border-warning-strong: light-dark(#b86200, #f7d15f);

  /* Icon Colors */
  --figma-color-icon: light-dark(#000000e5, #ffffff);
  --figma-color-icon-brand: light-dark(#007be5, #7cc4f8);
  --figma-color-icon-brand-pressed: light-dark(#0768cf, #0c8ce9);
  --figma-color-icon-brand-secondary: light-dark(#80caff, #0a6dc2);
  --figma-color-icon-brand-tertiary: light-dark(#bde3ff, #394360);
  --figma-color-icon-component: light-dark(#8638e5, #d1a8ff);
  --figma-color-icon-component-pressed: light-dark(#7c2bda, #d6b6fb);
  --figma-color-icon-component-secondary: light-dark(#c5b2dc, #7f699b);
  --figma-color-icon-component-tertiary: light-dark(#c5b2dc, #7f699b);
  --figma-color-icon-danger: light-dark(#f24822, #e03e1a);
  --figma-color-icon-danger-hover: light-dark(#bd2915, #fbbcb6);
  --figma-color-icon-danger-pressed: light-dark(#bd2915, #fbbcb6);
  --figma-color-icon-danger-secondary: light-dark(#f24822, #e03e1a);
  --figma-color-icon-danger-secondary-hover: light-dark(#f24822, #e03e1a);
  --figma-color-icon-danger-tertiary: light-dark(#f24822, #e03e1a);
  --figma-color-icon-disabled: light-dark(#0000004d, #ffffff66);
  --figma-color-icon-hover: light-dark(#000000e5, #ffffff);
  --figma-color-icon-onbrand: #ffffff;
  --figma-color-icon-onbrand-secondary: #ffffffcc;
  --figma-color-icon-onbrand-tertiary: #ffffff66;
  --figma-color-icon-oncomponent: #ffffff;
  --figma-color-icon-oncomponent-secondary: #ffffffcc;
  --figma-color-icon-oncomponent-tertiary: #ffffff66;
  --figma-color-icon-ondanger: #ffffff;
  --figma-color-icon-ondanger-secondary: #ffffffcc;
  --figma-color-icon-ondanger-tertiary: #ffffff66;
  --figma-color-icon-ondisabled: light-dark(#ffffff, #2c2c2c);
  --figma-color-icon-oninverse: light-dark(#ffffffe5, #000000e5);
  --figma-color-icon-onselected: light-dark(#000000e5, #ffffff);
  --figma-color-icon-onselected-secondary: light-dark(#00000080, #ffffffb2);
  --figma-color-icon-onselected-strong: #ffffff;
  --figma-color-icon-onselected-tertiary: light-dark(#0000004d, #ffffff66);
  --figma-color-icon-onsuccess: #ffffff;
  --figma-color-icon-onsuccess-secondary: #ffffffcc;
  --figma-color-icon-onsuccess-tertiary: #ffffff66;
  --figma-color-icon-onwarning: #000000e5;
  --figma-color-icon-onwarning-secondary: #00000080;
  --figma-color-icon-onwarning-tertiary: #0000004d;
  --figma-color-icon-pressed: light-dark(#007be5, #0a6dc2);
  --figma-color-icon-secondary: light-dark(#00000080, #ffffffb2);
  --figma-color-icon-secondary-hover: light-dark(#000000e5, #ffffff);
  --figma-color-icon-selected: light-dark(#007be5, #7cc4f8);
  --figma-color-icon-selected-secondary: light-dark(#007be5, #7cc4f8);
  --figma-color-icon-selected-tertiary: light-dark(#007be5, #7cc4f8);
  --figma-color-icon-success: light-dark(#14ae5c, #198f51);
  --figma-color-icon-success-pressed: light-dark(#008043, #a1e8b9);
  --figma-color-icon-success-secondary: light-dark(#14ae5c, #198f51);
  --figma-color-icon-success-tertiary: light-dark(#14ae5c, #198f51);
  --figma-color-icon-tertiary: light-dark(#0000004d, #ffffff66);
  --figma-color-icon-tertiary-hover: light-dark(#000000e5, #ffffff);
  --figma-color-icon-warning: light-dark(#ffcd29, #f3c11b);
  --figma-color-icon-warning-pressed: light-dark(#b86200, #f7d15f);
  --figma-color-icon-warning-secondary: light-dark(#ffcd29, #f3c11b);
  --figma-color-icon-warning-tertiary: light-dark(#ffcd29, #f3c11b);

  /* Text Colors */
  --figma-color-text: light-dark(#000000e5, #ffffff);
  --figma-color-text-brand: light-dark(#007be5, #7cc4f8);
  --figma-color-text-brand-secondary: light-dark(#007be5, #7cc4f8);
  --figma-color-text-brand-tertiary: light-dark(#007be5, #7cc4f8);
  --figma-color-text-component: light-dark(#8638e5, #d1a8ff);
  --figma-color-text-component-pressed: light-dark(#7c2bda, #d6b6fb);
  --figma-color-text-component-secondary: light-dark(#c5b2dc, #7f699b);
  --figma-color-text-component-tertiary: light-dark(#c5b2dc, #7f699b);
  --figma-color-text-danger: light-dark(#dc3412, #fca397);
  --figma-color-text-danger-secondary: light-dark(#dc3412, #fca397);
  --figma-color-text-danger-tertiary: light-dark(#dc3412, #fca397);
  --figma-color-text-disabled: light-dark(#0000004d, #ffffff66);
  --figma-color-text-hover: light-dark(#000000e5, #ffffff);
  --figma-color-text-onbrand: #ffffff;
  --figma-color-text-onbrand-secondary: #ffffffcc;
  --figma-color-text-onbrand-tertiary: #ffffff66;
  --figma-color-text-oncomponent: #ffffff;
  --figma-color-text-oncomponent-secondary: #ffffffcc;
  --figma-color-text-oncomponent-tertiary: #ffffff66;
  --figma-color-text-ondanger: #ffffff;
  --figma-color-text-ondanger-secondary: #ffffffcc;
  --figma-color-text-ondanger-tertiary: #ffffff66;
  --figma-color-text-ondisabled: light-dark(#ffffff, #2c2c2c);
  --figma-color-text-oninverse: light-dark(#ffffffe5, #000000e5);
  --figma-color-text-onselected: light-dark(#000000e5, #ffffffe5);
  --figma-color-text-onselected-secondary: light-dark(#00000080, #ffffffb2);
  --figma-color-text-onselected-strong: #ffffff;
  --figma-color-text-onselected-tertiary: light-dark(#0000004d, #ffffff66);
  --figma-color-text-onsuccess: #ffffff;
  --figma-color-text-onsuccess-secondary: #ffffffcc;
  --figma-color-text-onsuccess-tertiary: #ffffff66;
  --figma-color-text-onwarning: #000000e5;
  --figma-color-text-onwarning-secondary: #00000080;
  --figma-color-text-onwarning-tertiary: #0000004d;
  --figma-color-text-secondary: light-dark(#00000080, #ffffffb2);
  --figma-color-text-secondary-hover: light-dark(#000000e5, #ffffff);
  --figma-color-text-selection: rgba(13, 153, 255, 0.4);
  --figma-color-text-selected: light-dark(#007be5, #7cc4f8);
  --figma-color-text-selected-secondary: light-dark(#007be5, #7cc4f8);
  --figma-color-text-selected-tertiary: light-dark(#007be5, #7cc4f8);
  --figma-color-text-success: light-dark(#009951, #79d297);
  --figma-color-text-success-secondary: light-dark(#009951, #79d297);
  --figma-color-text-success-tertiary: light-dark(#009951, #79d297);
  --figma-color-text-tertiary: light-dark(#0000004d, #ffffff66);
  --figma-color-text-tertiary-hover: light-dark(#000000e5, #ffffff);
  --figma-color-text-warning: light-dark(#b86200, #f7d15f);
  --figma-color-text-warning-secondary: light-dark(#b86200, #f7d15f);
  --figma-color-text-warning-tertiary: light-dark(#b86200, #f7d15f);
  --figma-color-text-menu: #ffffff;
  --figma-color-text-menu-secondary: rgba(255, 255, 255, 0.7);
  --figma-color-text-menu-tertiary: rgba(255, 255, 255, 0.4);
}

:root {
  /* Typography & Sizing */
  --font-size: 16px;
  --font-family: "Inter", AppleSystemUIFont, BlinkMacSystemFont, avenir next,
    avenir, segoe ui, helvetica neue, helvetica, Cantarell, Ubuntu, roboto, noto,
    arial, sans-serif;
  --body-medium-fontSize: 0.6875rem;
  --body-large-fontSize: 0.8125rem;
  --body-letter-spacing: 0.055px;
  --body-medium-strong-fontWeight: 550;
  --body-large-strong-fontWeight: 500;
  --body-medium-fontWeight: 450;

  /* Spacing */
  --spacer-1: 0.25rem;
  --spacer-2: 0.5rem;
  --spacer-3: 1rem;
  --spacer-4: 1.5rem;
  --spacer-5: 2rem;
  --spacer-6: 2.5rem;

  /* Radii */
  --radius-medium: 0.3125rem;
  --radius-large: 0.8125rem;

  /* Transitions */
  --input-transition: all 0.08s ease-out;

  /* Misc UI */
  --popover-min-width: 15rem;
  --handle-color: #fff;
  --bg-selected: #f5f5f5;
  --bg-selected-active: #e5f4ff;
  --bg-tooltip: #1e1e1e;
  --color-tooltip: #ffffff;

  /* Transparent Backgrounds - use light-dark() */
  --figma-color-bordertranslucent: light-dark(
    rgba(0, 0, 0, 0.1),
    rgba(255, 255, 255, 0.1)
  );
  --figma-color-bg-transparent: light-dark(
    rgba(0, 0, 0, 0.05),
    rgba(255, 255, 255, 0.05)
  );
  --figma-color-bg-transparent-hover: light-dark(
    rgba(0, 0, 0, 0.05),
    rgba(255, 255, 255, 0.05)
  );
  --figma-color-bg-transparent-pressed: light-dark(
    rgba(0, 0, 0, 0.1),
    rgba(255, 255, 255, 0.1)
  );
  --figma-color-bg-transparent-secondary: light-dark(
    rgba(0, 0, 0, 0.2),
    rgba(255, 255, 255, 0.2)
  );

  /* Gradients */
  --checkerboard: repeating-conic-gradient(
      rgba(0, 0, 0, 0.1) 0% 25%,
      rgba(255, 255, 255, 0.1) 0% 50%
    )
    0 0 / 0.66666rem 0.66666rem;
  --bg-hue: linear-gradient(
    90deg,
    rgba(255, 0, 0, 1),
    rgba(255, 48, 0, 1),
    rgba(255, 96, 0, 1),
    rgba(255, 143, 0, 1),
    rgba(255, 191, 0, 1),
    rgba(255, 239, 0, 1),
    rgba(223, 255, 0, 1),
    rgba(175, 255, 0, 1),
    rgba(128, 255, 0, 1),
    rgba(80, 255, 0, 1),
    rgba(32, 255, 0, 1),
    rgba(0, 255, 16, 1),
    rgba(0, 255, 64, 1),
    rgba(0, 255, 112, 1),
    rgba(0, 255, 159, 1),
    rgba(0, 255, 207, 1),
    rgba(0, 255, 255, 1),
    rgba(0, 207, 255, 1),
    rgba(0, 159, 255, 1),
    rgba(0, 112, 255, 1),
    rgba(0, 64, 255, 1),
    rgba(0, 16, 255, 1),
    rgba(32, 0, 255, 1),
    rgba(80, 0, 255, 1),
    rgba(127, 0, 255, 1),
    rgba(175, 0, 255, 1),
    rgba(223, 0, 255, 1),
    rgba(255, 0, 239, 1),
    rgba(255, 0, 191, 1),
    rgba(255, 0, 143, 1),
    rgba(255, 0, 96, 1),
    rgba(255, 0, 48, 1)
  );

  /* Icons - colorless shapes for use with mask-image */
  --icon-chevron: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.87868 7.12132L8 9.24264L10.1213 7.12132' stroke='black' stroke-linecap='round'/%3E%3C/svg%3E%0A");
  --icon-checkmark: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.7773 4.08403C12.0071 4.2372 12.0692 4.54764 11.916 4.7774L7.91603 10.7774C7.83293 10.902 7.69834 10.9829 7.54927 10.9976C7.4002 11.0124 7.25237 10.9595 7.14645 10.8536L4.14645 7.85361C3.95118 7.65834 3.95118 7.34176 4.14645 7.1465C4.34171 6.95124 4.65829 6.95124 4.85355 7.1465L7.42229 9.71523L11.084 4.2227C11.2372 3.99294 11.5476 3.93085 11.7773 4.08403Z' fill='white'/%3E%3C/svg%3E%0A");
  --icon-steppers: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.7245 6.08191C11.9186 5.95386 12.1826 5.97562 12.3534 6.14637L14.3534 8.14637L14.4179 8.22449C14.546 8.41852 14.5242 8.68253 14.3534 8.8534C14.1826 9.02426 13.9186 9.04601 13.7245 8.91785L13.6464 8.8534L11.9999 7.20691L10.3534 8.8534C10.1582 9.04866 9.84166 9.04866 9.6464 8.8534C9.45123 8.65813 9.45117 8.3416 9.6464 8.14637L11.6464 6.14637L11.7245 6.08191Z' fill='black'/%3E%3Cpath d='M13.7248 15.0822C13.9189 14.9541 14.1829 14.9758 14.3537 15.1467C14.5246 15.3176 14.5463 15.5815 14.4182 15.7756L14.3537 15.8537L12.3537 17.8537C12.1829 18.0246 11.9189 18.0463 11.7248 17.9182L11.6467 17.8537L9.64669 15.8537L9.58224 15.7756C9.45407 15.5815 9.47583 15.3176 9.64669 15.1467C9.81756 14.9758 10.0815 14.9541 10.2756 15.0822L10.3537 15.1467L12.0002 16.7932L13.6467 15.1467L13.7248 15.0822Z' fill='black' /%3E%3C/svg%3E%0A");
  --icon-eyedropper: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.1592 5.65801C16.0376 4.78045 17.4621 4.78055 18.3408 5.65899L18.4951 5.82989C19.1671 6.65442 19.168 7.84476 18.4951 8.66973L18.3408 8.84063L16.6455 10.533C17.1104 11.083 17.1181 11.889 16.6641 12.4461L16.5605 12.5604C16.0111 13.1097 15.1425 13.1428 14.5537 12.6629L14.5342 12.6453L10.0908 17.0916C9.6188 17.5633 8.98876 17.7764 8.375 17.742L7.56055 18.5574C6.97441 19.1432 6.02451 19.1422 5.43945 18.5584V18.5574C4.8538 17.9718 4.85405 17.0221 5.43945 16.4363L6.25586 15.618C6.22412 15.0058 6.44026 14.3794 6.90918 13.91L11.3516 9.46367C10.856 8.87434 10.885 7.99381 11.4395 7.43926L11.5537 7.33574C12.1094 6.88283 12.9136 6.88854 13.4639 7.35137L15.1592 5.65801ZM7.61621 14.617C7.33755 14.8961 7.21782 15.2747 7.25781 15.6385C7.27925 15.8351 7.24419 16.0445 7.10449 16.1844L6.14648 17.1434C5.9516 17.3387 5.95135 17.6553 6.14648 17.8504C6.34167 18.0449 6.65842 18.0451 6.85352 17.8504L7.80859 16.8943C7.94931 16.7536 8.16065 16.7184 8.3584 16.741C8.72329 16.7828 9.10374 16.6643 9.38379 16.3846L13.8223 11.9432L12.0547 10.1756L7.61621 14.617ZM17.6338 6.36602C17.1458 5.87828 16.3544 5.8783 15.8662 6.36602L14.084 8.14629L14.0186 8.20586C13.6767 8.48476 13.1722 8.46484 12.8535 8.14629C12.6583 7.95131 12.3417 7.95119 12.1465 8.14629C11.9514 8.34148 11.9515 8.65808 12.1465 8.85332L15.1465 11.8533C15.3175 12.024 15.5814 12.0451 15.7754 11.9168L15.8535 11.8533C16.0486 11.6582 16.0484 11.3416 15.8535 11.1463V11.1453C15.8524 11.1443 15.8507 11.1434 15.8496 11.1424C15.5128 10.8013 15.514 10.2513 15.8535 9.91192L17.6338 8.1336C18.1216 7.6457 18.1213 6.85425 17.6338 6.36602Z' fill='black' fill-opacity='0.9'/%3E%3C/svg%3E");
  --icon-add: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 6C12.2761 6 12.5 6.22386 12.5 6.5V11.5H17.5C17.7761 11.5 18 11.7239 18 12C18 12.2761 17.7761 12.5 17.5 12.5H12.5V17.5C12.5 17.7761 12.2761 18 12 18C11.7239 18 11.5 17.7761 11.5 17.5V12.5H6.5C6.22386 12.5 6 12.2761 6 12C6 11.7239 6.22386 11.5 6.5 11.5H11.5V6.5C11.5 6.22386 11.7239 6 12 6Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-minus: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M18 12C18 12.2761 17.7761 12.5 17.5 12.5H6.5C6.22386 12.5 6 12.2761 6 12C6 11.7239 6.22386 11.5 6.5 11.5H17.5C17.7761 11.5 18 11.7239 18 12Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-back: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.8536 7.14645C14.0488 7.34171 14.0488 7.65829 13.8536 7.85355L9.70711 12L13.8536 16.1464C14.0488 16.3417 14.0488 16.6583 13.8536 16.8536C13.6583 17.0488 13.3417 17.0488 13.1464 16.8536L8.64645 12.3535C8.55268 12.2598 8.5 12.1326 8.5 12C8.5 11.8674 8.55268 11.7402 8.64645 11.6464L13.1464 7.14645C13.3417 6.95118 13.6583 6.95118 13.8536 7.14645Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-forward: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.1464 16.8536C9.95118 16.6583 9.95118 16.3417 10.1464 16.1464L14.2929 12L10.1464 7.85355C9.95118 7.65829 9.95118 7.34171 10.1464 7.14645C10.3417 6.95118 10.6583 6.95118 10.8536 7.14645L15.3536 11.6464C15.5488 11.8417 15.5488 12.1583 15.3536 12.3536L10.8536 16.8536C10.6583 17.0488 10.3417 17.0488 10.1464 16.8536Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-close: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.2242 7.08154C16.4182 6.95348 16.6823 6.97551 16.8531 7.146C17.024 7.31683 17.0457 7.58084 16.9176 7.7749L16.8531 7.85303L12.7067 11.9995L16.8531 16.146L16.9176 16.2241C17.0457 16.4182 17.024 16.6822 16.8531 16.853C16.6823 17.0239 16.4183 17.0456 16.2242 16.9175L16.1461 16.853L11.9996 12.7065L7.85315 16.853C7.65789 17.0483 7.34138 17.0483 7.14612 16.853C6.95128 16.6577 6.95101 16.3411 7.14612 16.146L11.2926 11.9995L7.14612 7.85303L7.08167 7.7749C6.95389 7.58087 6.97541 7.3167 7.14612 7.146C7.31683 6.97532 7.58101 6.95376 7.77502 7.08154L7.85315 7.146L11.9996 11.2925L16.1461 7.146L16.2242 7.08154Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-rotate: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.2325 6.47442C11.2088 5.49811 12.7917 5.49811 13.768 6.47442L15.2931 7.99955H14.0002C13.7241 7.99955 13.5002 8.2234 13.5002 8.49955C13.5002 8.77569 13.7241 8.99955 14.0002 8.99955H16.5002C16.7764 8.99955 17.0002 8.77569 17.0002 8.49955V5.99955C17.0002 5.7234 16.7764 5.49955 16.5002 5.49955C16.2241 5.49955 16.0002 5.7234 16.0002 5.99955V7.29244L14.4751 5.76731C13.1083 4.40048 10.8922 4.40048 9.52537 5.76731L7.14669 8.14599C6.95143 8.34126 6.95143 8.65784 7.14669 8.8531C7.34195 9.04836 7.65854 9.04836 7.8538 8.8531L10.2325 6.47442ZM13.0609 9.64599C12.4751 9.06021 11.5254 9.06021 10.9396 9.64599L7.64669 12.9389C7.06091 13.5247 7.0609 14.4744 7.64669 15.0602L10.9396 18.3531C11.5254 18.9389 12.4751 18.9389 13.0609 18.3531L16.3538 15.0602C16.9396 14.4744 16.9396 13.5247 16.3538 12.9389L13.0609 9.64599ZM11.6467 10.3531C11.842 10.1578 12.1585 10.1578 12.3538 10.3531L15.6467 13.646C15.842 13.8413 15.842 14.1578 15.6467 14.3531L12.3538 17.646C12.1585 17.8413 11.842 17.8413 11.6467 17.646L8.3538 14.3531C8.15854 14.1578 8.15854 13.8413 8.3538 13.646L11.6467 10.3531Z' fill='currentColor'/%3E%3C/svg%3E");
  --icon-swap: url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.35355 6.35355C8.54882 6.15829 8.54882 5.84171 8.35355 5.64645C8.15829 5.45118 7.84171 5.45118 7.64645 5.64645L5.14645 8.14645C4.95118 8.34171 4.95118 8.65829 5.14645 8.85355L7.64645 11.3536C7.84171 11.5488 8.15829 11.5488 8.35355 11.3536C8.54882 11.1583 8.54882 10.8417 8.35355 10.6464L6.70711 9H18.5C18.7761 9 19 8.77614 19 8.5C19 8.22386 18.7761 8 18.5 8H6.70711L8.35355 6.35355ZM15.6464 13.3536C15.4512 13.1583 15.4512 12.8417 15.6464 12.6464C15.8417 12.4512 16.1583 12.4512 16.3536 12.6464L18.8536 15.1464C19.0488 15.3417 19.0488 15.6583 18.8536 15.8536L16.3536 18.3536C16.1583 18.5488 15.8417 18.5488 15.6464 18.3536C15.4512 18.1583 15.4512 17.8417 15.6464 17.6464L17.2929 16H5.5C5.22386 16 5 15.7761 5 15.5C5 15.2239 5.22386 15 5.5 15H17.2929L15.6464 13.3536Z' fill='currentColor'/%3E%3C/svg%3E");

  /* Elevations - light theme defaults */
  --elevation-500-modal-window: 0px 0px 0.5px rgba(0, 0, 0, 0.08),
    0px 10px 24px rgba(0, 0, 0, 0.18), 0px 2px 5px rgba(0, 0, 0, 0.15);
  --figma-elevation-100: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.3),
    0px 1px 3px 0px rgba(0, 0, 0, 0.15);
  --figma-elevation-200: 0 0 0.5px 0 rgba(0, 0, 0, 0.18),
    0 3px 8px 0 rgba(0, 0, 0, 0.1), 0 1px 3px 0 rgba(0, 0, 0, 0.1);
  --figma-elevation-400-menu-panel: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.12),
    0px 10px 16px 0px rgba(0, 0, 0, 0.12), 0px 2px 5px 0px rgba(0, 0, 0, 0.15);
  --figma-elevation-500-modal-window: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.08),
    0px 10px 24px 0px rgba(0, 0, 0, 0.18), 0px 2px 5px 0px rgba(0, 0, 0, 0.15);
  --handle-shadow: 0px 0 0 0.5px rgba(0, 0, 0, 0.1), var(--figma-elevation-100);
}

/* Dark theme overrides for non-color values (shadows, elevations) */
/* These cannot use light-dark() as they are complex values */
@media (prefers-color-scheme: dark) {
  :root {
    --handle-shadow: 0px 0 0 0.75px rgba(0, 0, 0, 0.1),
      0px 0px 0.5px 0px rgba(255, 255, 255, 0.1);
    --figma-elevation-100: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.5),
      0px 0.75px 0px 0px rgba(255, 255, 255, 0.1) inset,
      0px 1px 3px 0px rgba(0, 0, 0, 0.4);
    --figma-elevation-200: 0px 3px 8px rgba(0, 0, 0, 0.35),
      0px 1px 3px rgba(0, 0, 0, 0.5),
      inset 0px 0.5px 0px rgba(255, 255, 255, 0.08),
      inset 0px 0px 0.5px rgba(255, 255, 255, 0.3);
    --figma-elevation-400-menu-panel: 0px 0.5px 0px 0px
        rgba(255, 255, 255, 0.08) inset,
      0px 10px 16px 0px rgba(0, 0, 0, 0.35),
      inset 0px 0.75px 0px rgba(255, 255, 255, 0.075),
      0px 2px 5px 0px rgba(0, 0, 0, 0.35);
    --figma-elevation-500-modal-window: 0px 10px 24px rgba(0, 0, 0, 0.45),
      0px 3px 5px rgba(0, 0, 0, 0.35),
      inset 0px 0.75px 0px rgba(255, 255, 255, 0.1);
  }
}

/* Class-based dark theme override (for manual theme switching) */
:root.figma-dark {
  --handle-shadow: 0px 0 0 0.75px rgba(0, 0, 0, 0.1),
    0px 0px 0.5px 0px rgba(255, 255, 255, 0.1);
  --figma-elevation-100: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.5),
    0px 0.75px 0px 0px rgba(255, 255, 255, 0.1) inset,
    0px 1px 3px 0px rgba(0, 0, 0, 0.4);
  --figma-elevation-200: 0px 3px 8px rgba(0, 0, 0, 0.35),
    0px 1px 3px rgba(0, 0, 0, 0.5),
    inset 0px 0.5px 0px rgba(255, 255, 255, 0.08),
    inset 0px 0px 0.5px rgba(255, 255, 255, 0.3);
  --figma-elevation-400-menu-panel: 0px 0.5px 0px 0px rgba(255, 255, 255, 0.08)
      inset,
    0px 10px 16px 0px rgba(0, 0, 0, 0.35),
    inset 0px 0.75px 0px rgba(255, 255, 255, 0.075),
    0px 2px 5px 0px rgba(0, 0, 0, 0.35);
  --figma-elevation-500-modal-window: 0px 10px 24px rgba(0, 0, 0, 0.45),
    0px 3px 5px rgba(0, 0, 0, 0.35),
    inset 0px 0.75px 0px rgba(255, 255, 255, 0.1);
}

button,
select,
input,
fieldset {
  display: inline-flex;
  align-items: center;
  margin: 0;
  gap: 0.25rem;
  font: inherit;
  line-height: 1rem;
}

textarea,
input[type="text"],
input[type="number"],
input[type="password"],
.input {
  background-color: var(--figma-color-bg-secondary);
  border: 0;
  border-radius: var(--radius-medium);
  padding: var(--spacer-1) var(--spacer-2);
  line-height: 1rem !important;
  box-sizing: content-box;
  resize: none;
  min-width: 0;
  font: inherit;
  display: flex;
  color: inherit;
  -moz-appearance: textfield;

  &:focus {
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    outline: 0;
  }
  &::-webkit-outer-spin-button,
  &::-webkit-inner-spin-button {
    display: none;
    color-scheme: inherit;
    -webkit-appearance: none;
    margin: 0;
  }
}

fig-input-text,
fig-input-number {
  &:has([slot="append"]) input[type="number"] {
    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
      display: none;
      color-scheme: inherit;
      margin: 0;
      opacity: 0;
    }
  }
  &[steppers="true"] {
    input[type="number"]::-webkit-inner-spin-button {
      display: block;
      opacity: 1;
      height: 1.5rem;
      width: 1.5rem;
      margin-right: calc(var(--spacer-2) * -1);
      background-color: var(--figma-color-text-secondary);
      mask-image: var(--icon-steppers);
    }
  }
}

/* Textarea */
textarea {
  min-height: 2rem;
  display: block;
  width: 100%;
  box-sizing: border-box;
}

/* Dropdown */
select,
input[type="text"][list] {
  height: var(--spacer-4);
  padding: 0 calc(var(--spacer-2) - 1px);
  border-radius: var(--radius-medium);
  display: flex;
  appearance: none;
  align-items: center;
  flex: 1 0 0;
  border: 0;
  color: var(--figma-color-text);
  background-color: var(--figma-color-bg);
  box-shadow: inset 0 0 0 1px var(--figma-color-border);
  accent-color: var(--figma-color-bg-brand);
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;

  &:focus {
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    outline: 0;
  }

  &::-webkit-calendar-picker-indicator {
    color-scheme: inherit;
    opacity: 0;
  }
}

@supports (appearance: base-select) {
  fig-dropdown[variant="neue"] {
    &[type="dropdown"] {
      select:before {
        content: attr(aria-label);
      }
      option::checkmark {
        display: none;
      }
      option {
        padding-left: var(--spacer-3);
      }
    }
    select {
      --option-height: 1.5rem;
      --max-width: 20rem;
      @media (hover) and (pointer: fine) {
        &,
        &::picker(select) {
          appearance: base-select;
        }
      }

      max-inline-size: var(--max-width);
      padding-block: 0;
      will-change: scale;

      @supports (-webkit-touch-callout: none) {
        font-size: 16px;
      }

      option::checkmark {
        content: var(--icon-checkmark);
        display: block;
        width: 1rem;
        height: 1rem;
      }

      option {
        display: flex;
        gap: var(--spacer-1);
        padding: 0 var(--spacer-4) 0 calc(var(--spacer-1) * 2 + var(--spacer-1));
        font-weight: var(--body-medium-fontWeight);
        color: var(--figma-color-text-menu);
        position: relative;
        &[hidden] {
          display: none;
        }
        &:not(:checked):before {
          content: "";
          display: block;
          position: absolute;
          inset: 0 var(--spacer-2);
          border-radius: var(--radius-medium);
          z-index: -1;
          background-color: transparent;
        }
        &:not(:disabled) {
          &:hover,
          &:active,
          &:focus-visible {
            background-color: transparent;
            outline: 0;
            &:before {
              background-color: var(--figma-color-bg-menu-hover);
            }
          }
        }
      }

      optgroup {
        color: var(--figma-color-text-menu-secondary);
        text-align: left;
        position: relative;
        padding: 0 var(--spacer-1) 0 calc(var(--spacer-1) * 2 + var(--spacer-1));
        font-weight: var(--body-medium-fontWeight);
        &[label] {
          padding-top: var(--spacer-2);
          option:first-child {
            margin-top: var(--spacer-2);
          }
        }
        legend {
          padding: var(--spacer-1, 0.3rem) var(--spacer-1, 1rem);
        }
        option {
          margin: 0 calc(var(--spacer-1) * -1);
          margin-left: calc((var(--spacer-1) * 2 + var(--spacer-1)) * -1);
        }
        &:not(:first-child) {
          margin-top: var(--spacer-2);
          padding-top: var(--spacer-3);

          &:before {
            content: "";
            display: block;
            position: absolute;
            left: 0;
            right: 0;
            top: 1px;
            height: 1px;
            background-color: var(--figma-color-border-menu);
            margin-bottom: var(--spacer-2);
          }
        }
      }
      option[hidden="true"]:first-child + optgroup {
        margin-top: 0;
        padding-top: var(--spacer-2);
        &:before {
          display: none;
        }
      }
    }
    ::picker-icon {
      display: none;
    }

    /* https://codepen.io/editor/argyleink/pen/019c1f28-bbc2-7bac-ad4a-a7e41d3730f1 */
    ::picker(select) {
      appearance: base-select;

      /* Appearance/style */
      scrollbar-width: thin;
      outline: 0;
      scrollbar-color: var(--figma-color-text-menu-tertiary)
        var(--figma-color-bg-menu);
      border-radius: var(--radius-large);
      border: 0;
      background-color: var(--figma-color-bg-menu);
      padding: var(--spacer-2) 0;
      box-shadow: var(--figma-elevation-400-menu-panel);
    }
  }
}

input[type="text"][list],
select {
  padding-right: var(--spacer-4);
  padding-left: var(--spacer-2);
}

/* Dropdown */
fig-dropdown,
.fig-dropdown {
  display: inline-flex;
  position: relative;

  & > *:not(select) {
    display: none !important;
  }
  > select {
    display: block;
    width: 100%;
  }

  /* Chevron icon using mask-image for light-dark support */
  &::after {
    content: "";
    position: absolute;
    right: 0.25rem;
    top: 50%;
    transform: translateY(-50%);
    width: 1rem;
    height: 1rem;
    mask-image: var(--icon-chevron);
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
    background-color: var(--figma-color-icon);
    pointer-events: none;
  }
}

/* Button */
.fig-button,
fig-button {
  color: var(--figma-color-text-onbrand);
  display: flex;
  align-items: center;
  justify-content: center;
  height: var(--spacer-4);
  padding: 0 var(--spacer-2);
  appearance: none;
  border: 0;
  min-width: 0;
  color: var(--figma-color-text-onbrand);
  outline: 0;
  border-radius: var(--radius-medium);
  background-color: var(--figma-color-bg-brand);
  font-weight: 500;

  &:active {
    background-color: var(--figma-color-bg-brand-pressed);
  }

  &:hover {
    background-color: var(--figma-color-bg-brand-hover);
    &:active {
      background-color: var(--figma-color-bg-brand-pressed);
    }
    &:active {
      background-color: var(--figma-color-bg-brand-pressed);
      color: var(--figma-color-text-onbrand-secondary);
    }
  }

  /* Variant: Link */
  &[variant="link"] {
    box-shadow: none;
    background: none;
    color: var(--figma-color-text-brand);

    &:hover:not(:active) {
      background-color: transparent;
    }

    &:active {
      outline: 0;
      background-color: var(--figma-color-bg-selected);
      color: var(--figma-color-text-brand);
    }
  }
  /* Variant: Ghost */
  &[variant="ghost"] {
    box-shadow: none;
    background: none;
    color: var(--figma-color-text);

    &:hover:not(:active) {
      background-color: var(--figma-color-bg-transparent-hover);
    }

    &:active {
      outline: 0;
      background-color: var(--figma-color-bg-transparent-pressed);
      color: var(--figma-color-text);
    }
  }

  &[variant="ghost"][disabled]:not([disabled="false"]) {
    background-color: transparent;
  }
  /* Variant: Secondary */
  &[variant="secondary"] {
    box-shadow: inset 0 0 0 1px var(--figma-color-border);
    padding: 0 calc(var(--spacer-2) - 1px);
    background: none;
    color: var(--figma-color-text);

    &:active {
      background-color: var(--figma-color-bg-secondary);
      color: var(--figma-color-text);
    }
  }

  /* Variant: Input */
  &[variant="input"] {
    background-color: var(--figma-color-bg-secondary);
    box-shadow: none;
    color: var(--figma-color-text);
  }

  /* Variant: Overlay (for on top of content) */
  &[variant="overlay"] {
    color-scheme: light;
    background-color: var(--figma-color-bg);
    color: var(--figma-color-text);
    box-shadow: 0 0 0 1px var(--figma-color-bordertranslucent);

    &:active {
      background-color: var(--figma-color-bg-secondary);
    }
  }

  /* Icon only */
  &[icon] {
    width: var(--spacer-4);
    padding: 0;
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: var(--spacer-4);
    &[size="compact"] {
      width: var(--spacer-3);
      flex-basis: var(--spacer-3);
    }
  }

  /* Disabled */
  &[disabled]:not([disabled="false"]) {
    background-color: var(--figma-color-bg-disabled);
    pointer-events: none;
    cursor: not-allowed;
    &:not([variant="secondary"]) {
      color: var(--figma-color-text-ondisabled);
      box-shadow: none;
    }
    &[variant="secondary"],
    &[variant="ghost"] {
      color: var(--figma-color-text-disabled);
      background-color: transparent;
    }
  }

  /* Size */
  &[size="large"],
  &[size="large"] > button {
    height: var(--spacer-5);
    padding: 0 var(--spacer-3);
  }

  &[size="large"][icon],
  &[size="large"][icon] > button {
    width: var(--spacer-5);
  }

  /* Full width */
  &[full] {
    width: 100%;
  }

  /* Block button */
  &[inline="false"],
  &[inline="false"] > button {
    display: flex;
    width: 100%;
    justify-content: left;
    height: auto;
    text-align: left;
    align-items: center;
    padding: var(--spacer-1) var(--spacer-2);
  }

  &[type="select"],
  &[type="upload"] {
    position: relative;
    overflow: hidden;
    > select,
    > input,
    > fig-dropdown {
      position: absolute;
      inset: 0;
      opacity: 0;
      appearance: none;
    }
  }

  &[inline="false"] {
    padding: 0;
  }

  &[selected]:not([selected="false"]) {
    &,
    &:hover {
      color: var(--figma-color-icon-brand);
      background-color: var(--figma-color-bg-selected);
    }
  }

  &:focus-visible,
  &[data-focus-visible] {
    outline: 0;
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
  }
  svg {
    *[fill] {
      fill: currentColor;
    }
    *[stroke]:not([stroke="none"]) {
      stroke: currentColor;
    }
  }
  &:has(svg:first-child):not([icon]) {
    padding-left: var(--spacer-1);
  }
}

/* Combo button */
.fig-button-combo,
fig-button-combo,
.fig-input-combo,
fig-input-combo {
  display: inline-flex;
  flex-wrap: nowrap;
  align-items: center;
  gap: 0px;
  & > * {
    &:first-child,
    &:first-child > * {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:last-child,
    &:last-child > * {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &:not(:last-child):not(:first-child),
    &:not(:last-child):not(:first-child) > * {
      border-radius: 0;
    }
  }
}
.fig-input-combo,
fig-input-combo {
  gap: 1px;
}
.fig-button-combo,
fig-button-combo {
  > *:not([variant="secondary"]):not(:first-child) {
    box-shadow: inset 1px 0 0 0 var(--figma-color-bg-brand-hover);
    &[disabled]:not([disabled="false"]) {
      box-shadow: inset 1px 0 0 0 var(--figma-color-border-disabled);
    }
  }
  > *[variant="secondary"]:not(:first-child) {
    border-left-width: 0 !important;
    &[disabled]:not([disabled="false"]) {
      border-left-width: 0 !important;
    }
  }
}

/* Tabs */
fig-tab,
.fig-tab {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 1.5rem;
  padding: 0 var(--spacer-2);
  appearance: none;
  border: 0;
  cursor: default;
  gap: 0 !important;
  user-select: none;
  border-radius: var(--radius-medium);
  color: var(--figma-color-text-secondary);
  position: relative;

  &[label] {
    &::after {
      content: attr(label);
      color: var(--figma-color-text-secondary);
      content: attr(label);
      height: 0 !important;
      width: auto !important;
      visibility: hidden;
      overflow: hidden;
      user-select: none;
      pointer-events: none;
      font-weight: var(--body-medium-strong-fontWeight);
    }
  }

  &:has(:checked),
  &[selected]:not([selected="false"]) {
    background-color: var(--figma-color-bg-secondary);
    font-weight: var(--body-medium-strong-fontWeight);
    color: var(--figma-color-text);
  }

  &:hover {
    background-color: var(--figma-color-bg-secondary);
  }

  & [type="radio"] {
    position: absolute;
    inset: 0;
    border-radius: 0;
    opacity: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
  }
}

fig-tabs,
.tabs {
  display: flex;
  gap: var(--spacer-2);
}

fig-tab-content,
.fig-tab-content {
  display: none;
}

/* Avatar */
fig-avatar,
.fig-avatar {
  --size: 1.5rem;
  width: var(--size);
  display: inline-grid;
  place-items: center;
  height: var(--size);
  border-radius: 100%;
  border: 0;
  background: var(--figma-color-bg-brand);
  overflow: hidden;
  color: var(--figma-color-icon-onbrand);

  img {
    width: var(--size);
    height: var(--size);
    position: absolute;
    border-radius: 100%;
    box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
    &:not([src]) {
      background: var(--checkerboard);
    }
  }
  &[borderless] img {
    box-shadow: none;
  }

  &:has(img[src]) {
    background: none;
  }
  &::after {
    content: attr(initials);
  }
  &[size="large"] {
    --size: 3rem;
  }
}

/* Color input */
input[type="color"] {
  width: 0.875rem;
  height: 0.875rem;
  -webkit-appearance: none;
  appearance: none;
  border: 0;
  padding: 0;
  margin: 0;
  background: none;
  padding: 0.3125rem;
  flex-shrink: 0;
  box-sizing: content-box;
  border-radius: var(--radius-medium);
  background-color: var(--figma-color-bg-secondary);
  display: inline-grid;

  &:focus {
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    outline: 0;
  }

  &::-webkit-color-swatch-wrapper {
    padding: 0;
    border: 0;
    color-scheme: inherit;
    appearance: none;
    border-radius: 0.125rem;
    background: var(--checkerboard);
    overflow: hidden;
    grid-area: 1/1;
    color-scheme: inherit;
    outline: 0;
  }

  &::-webkit-color-swatch {
    padding: 0;
    border: 0;
    color-scheme: inherit;
    box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
    color-scheme: inherit;
    border-radius: 0.125rem;
    mask-image: linear-gradient(
      to right,
      black 0%,
      black 50%,
      rgba(0, 0, 0, var(--alpha)) 50%
    );
  }
}

input[type="color"] {
  &::-moz-color-swatch {
    color-scheme: inherit;
    border-radius: 0.125rem;
    color-scheme: inherit;
    padding: 0;
    border: 0;
    appearance: none;
    mask-image: linear-gradient(
      to right,
      black 0%,
      black 50%,
      rgba(0, 0, 0, var(--alpha)) 50%
    );
    border-radius: 0.125rem;
    box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
  }
}

fig-chit {
  --size: 1.5rem;
  --chit-background: #d9d9d9;
  --chit-bg-size: cover;
  --chit-bg-position: center;
  --alpha: 1;

  display: inline-grid;
  width: var(--size);
  height: var(--size);
  border-radius: var(--radius-medium);

  &::before,
  &::after,
  input {
    grid-area: 1/1;
  }

  /* Selection ring */
  &[selected]:not([selected="false"])::before {
    content: "";
    width: var(--size);
    height: var(--size);
    z-index: 1;
    border-radius: var(--radius-medium);
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
  }

  &[size="large"] {
    --size: 1.75rem;

    /* Large size: swatch fills the whole area */
    input[type="color"] {
      padding: 0;
      width: var(--size);
      height: var(--size);
      border-radius: var(--radius-medium);
    }

    input[type="color"]::-webkit-color-swatch-wrapper {
      border-radius: var(--radius-medium);
    }

    input[type="color"]::-webkit-color-swatch {
      border-radius: var(--radius-medium);
    }

    input[type="color"]::-moz-color-swatch {
      border-radius: var(--radius-medium);
    }

    &[selected]:not([selected="false"])::before {
      box-shadow: inset 0 0 0 1px var(--figma-color-border-selected),
        inset 0 0 0 3px var(--figma-color-bg);
    }

    /* Large gradient/image: also fill the area */
    &[data-type="gradient"]::after,
    &[data-type="image"]::after {
      width: var(--size);
      height: var(--size);
      border-radius: var(--radius-medium);
    }
  }

  &[disabled] {
    pointer-events: none;
    opacity: 0.5;
  }

  /* Gradient/Image types - inset thumbnail with hidden input */
  &[data-type="gradient"],
  &[data-type="image"] {
    background-color: var(--figma-color-bg-secondary);

    &::after {
      content: "";
      width: 0.875rem;
      height: 0.875rem;
      background: var(--chit-background);
      background-size: var(--chit-bg-size);
      background-position: var(--chit-bg-position);
      background-repeat: repeat;
      border-radius: 0.125rem;
      box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
    }
    &[data-type="image"]::after {
      mask-image: linear-gradient(
        to right,
        black 0%,
        black 50%,
        rgba(0, 0, 0, var(--alpha)) 50%
      );
    }

    &::after,
    input {
      grid-area: 1/1;
      place-self: center;
    }

    input[type="color"] {
      opacity: 0;
    }

    input[type="color"]::-webkit-color-swatch-wrapper {
      background: none;
    }

    input[type="color"]::-moz-color-swatch {
      opacity: 0;
    }

    input[type="color"]::-webkit-color-swatch {
      opacity: 0;
    }
  }

  /* Checkerboard for empty/missing images */
  &[data-type="image"]:not([background])::after,
  &[data-type="image"][background=""]::after,
  &[data-type="image"][background="url()"]::after {
    background: var(--checkerboard);
  }
}

/* Fig Image */
fig-image {
  --image-size: 2rem;
  display: inline-grid;
  place-items: center;
  width: var(--image-size);
  height: var(--image-size);
  aspect-ratio: 1 / 1;
  > * {
    grid-area: 1/1;
  }
  fig-chit {
    --size: var(--image-size) !important;
    &[disabled] {
      opacity: 1;
    }
  }
  &:not([src]):not([src=""]) fig-button,
  &:hover fig-button {
    opacity: 1;
    pointer-events: all;
  }
  &[size="medium"] {
    --image-size: 4rem;
  }
  &[size="large"] {
    --image-size: 8rem;
  }
  &[aspect-ratio="auto"] {
    aspect-ratio: var(--aspect-ratio);
    height: auto;
    fig-chit {
      height: auto !important;
      aspect-ratio: var(--aspect-ratio) !important;
    }
  }
  > div {
    display: flex;
    gap: var(--spacer-2);
    opacity: 0;
    pointer-events: none;
  }
  &:not([src]):not([src=""]) > div,
  &:hover > div {
    opacity: 1;
    pointer-events: all;
  }
  fig-button[type="download"] {
    display: none;
  }
  &[src]:not([src=""]) {
    fig-button[type="download"] {
      display: inline-flex;
    }
  }
}

/* Combo input */
.input-combo {
  display: inline-flex;
  flex-wrap: nowrap;
  align-items: center;
  gap: 1px;

  & > label {
    align-self: stretch;
    color: inherit;
  }

  & > * {
    &:first-child:not(:last-child),
    &:first-child:not(:last-child) > * {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }

    &:last-child:not(:first-child),
    &:last-child:not(:first-child) > * {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    &:not(:last-child):not(:first-child),
    &:not(:last-child):not(:first-child) > * {
      border-radius: 0;
    }
  }
}

/* Input Fill label */
.fig-input-fill-label {
  display: inline-flex;
  align-items: center;
  padding: 0 var(--spacer-2) 0 var(--spacer-1);
  height: var(--control-height);
  font-size: var(--font-size-small);
  color: var(--figma-color-text-secondary);
  background: var(--figma-color-bg-secondary);
  flex: 1;
  min-width: 0;
  user-select: none;
  margin-left: -1px;
}

/* Switch */
input[type="checkbox"].switch {
  display: inline-flex;
  margin: 0;
  vertical-align: middle;
  padding: 0;
  width: 2rem;
  height: 1rem;
  left: 0;
  top: 0;
  margin: 0;
  background: transparent;
  appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;
  outline: none;
  border: 0;
  align-items: center;
  justify-content: center;
  border-radius: 0.5rem;
  background-color: var(--figma-color-bg-switch);
  transition: var(--input-transition);
  box-sizing: border-box;
  box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
}

input[type="checkbox"].switch:after {
  content: "";
  background-color: var(--handle-color);
  width: calc(1rem - 2px);
  height: calc(1rem - 2px);
  border-radius: 0.5rem;
  margin: 1px;
  transform: translate(calc(-0.5rem));
  transition: var(--input-transition);
  box-shadow: var(--handle-shadow);
}

input[type="checkbox"].switch[indeterminate="true"]:after {
  width: 0.5rem;
  height: 0.125rem;
  transform: none;
}

input[type="checkbox"].switch[indeterminate="true"],
input[type="checkbox"].switch:checked {
  background-color: var(--figma-color-bg-brand);
}

input[type="checkbox"].switch:checked:after {
  transform: translate(0.5rem);
}

input[type="checkbox"].switch:disabled {
  background-color: var(--figma-color-bg-secondary);
  cursor: not-allowed;
  &:after {
    background-color: var(--figma-color-bg);
  }
}

input[type="checkbox"].switch:focus {
  outline: 0;
}

input[type="checkbox"].switch:checked:focus {
  outline: 0;
}

/* Checkbox */
input[type="checkbox"]:not(.switch) {
  --size: 1rem;
  --checkmark: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.50012 7.5L7.50012 10.5L11.5001 4.5' stroke='white' opacity='1' stroke-linecap='round' stroke-linejoin='round' stroke-width='1' /%3E%3C/svg%3E%0A");
  appearance: none;
  border-radius: var(--radius-medium);
  width: var(--size);
  height: var(--size);
  aspect-ratio: 1/1;
  box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
  background-color: var(--figma-color-bg-secondary);
  vertical-align: middle;

  &::after {
    content: "";
    width: var(--size);
    height: var(--size);
    background-color: transparent;
    mask-image: var(--checkmark);
  }
  &:hover:not(:checked):not(:disabled) {
    &::after {
      opacity: 0.25;
      background-color: var(--figma-color-icon);
    }
  }

  &:checked {
    background-color: var(--figma-color-bg-brand);
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected-strong);
    background-image: var(--light-checkmark);
    &::after {
      background-color: var(--figma-color-icon-onbrand);
    }
  }

  &:focus {
    outline: 0;

    &:not(:checked) {
      box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    }
  }
}
/* Light theme checkbox hover (black checkmark preview) */
@media (prefers-color-scheme: light) {
  input[type="checkbox"]:not(.switch):not(:disabled):hover {
    background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.50012 7.5L7.50012 10.5L11.5001 4.5' stroke='black' opacity='0.25' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.125' /%3E%3C/svg%3E%0A");
  }
}

/* Class-based light theme override (for manual theme switching) */
:root.figma-light input[type="checkbox"]:not(.switch):not(:disabled):hover {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.50012 7.5L7.50012 10.5L11.5001 4.5' stroke='black' opacity='0.25' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.125' /%3E%3C/svg%3E%0A");
}

label.checkbox:has([type="checkbox"]) {
  padding-left: 1.5rem;

  & [type="radio"] {
    margin-left: -1.5rem;
  }
}

/* Radio */
input[type="radio"] {
  appearance: none;
  border-radius: 0.5rem;
  width: 1rem;
  height: 1rem;
  box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
  background-color: var(--figma-color-bg-secondary);
  vertical-align: middle;
  margin: 0;
  display: inline-grid;
  place-content: center;

  &:checked {
    background-color: var(--figma-color-bg-brand);
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected-strong);

    &::after {
      transform: scale(1);
    }
  }

  &:focus {
    outline: 0;

    &:not(:checked) {
      box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    }
  }

  &:hover:not(:checked):not(:disabled) {
    &::after {
      transform: scale(1);
      opacity: 0.25;
      background-color: var(--figma-color-icon);
    }
  }

  &::after {
    content: "";
    width: 0.375rem;
    height: 0.375rem;
    border-radius: 100%;
    background-color: var(--figma-color-icon-onbrand);
    transform: scale(0);
    box-shadow: 0px 0 0 0.75px rgba(0, 0, 0, 0.1),
      0px 1px 3px 0px rgba(0, 0, 0, 0.1), 0px 3px 8px 0px rgba(0, 0, 0, 0.1),
      0px 0px 0.5px 0px rgba(0, 0, 0, 0.18);
  }
}

label.radio:has([type="radio"]) {
  padding-left: 1.5rem;

  & [type="radio"] {
    margin-left: -1.5rem;
  }
}

/* Fieldset */
fieldset {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  border: 0;
  align-items: start;
  padding: var(--spacer-2) 0;

  & > legend {
    margin-top: 0.125rem;
    font-weight: 500;
    font-size: 0.625rem;
    line-height: 0.875rem;
    color: var(--figma-color-text-secondary);
  }

  & > label {
    display: grid;
    width: 100%;
    grid-template-columns: 4rem 1fr;
    column-gap: var(--spacer-2);
    align-items: center;
  }
}

/* Details */
details {
  & > summary {
    font-weight: var(--body-medium-strong-fontWeight);
    cursor: default;
    display: flex;
    align-items: center;
    padding: 0 1rem 0 0;
    height: var(--spacer-5);
    user-select: none;
    color: var(--figma-color-text-secondary);

    &::before {
      content: "";
      mask-image: var(--icon-chevron);
      display: inline-flex;
      background: var(--figma-color-text-secondary);
      align-items: start;
      justify-content: center;
      width: 1rem;
      height: 1rem;
      transform: rotate(-90deg);
      transition: transform var(--transition-duration)
        var(--transition-timing-function);
    }
    &::-webkit-details-marker {
      display: none;
    }
    &::marker {
      content: "";
    }
  }

  & > summary:hover,
  &[open] > summary {
    color: inherit;

    &::before {
      opacity: 1;
    }
  }

  &[open] {
    & > summary::before {
      transform: rotate(0deg);
    }
  }
}

/* Sliders */
.fig-slider,
fig-slider {
  --slider-field-height: 1.5rem;
  --slider-height: 1rem;
  --slider-thumb-size: var(--slider-height);
  --slider-percent: calc(var(--slider-complete) * 100%);
  --start-percent: calc(var(--default, 0) * 100%);
  --slider-tick-size: calc(var(--slider-height) / 4);
  --slider-handle-shadow: inset 0 0 0 calc(4px + 0.5rem * var(--unchanged))
      var(--handle-color),
    0px 0 0 0.5px rgba(0, 0, 0, 0.1), var(--figma-elevation-100);
  --slider-handle-shadow-focus: inset 0 0 0 4px var(--handle-color),
    inset 0 0 0 5px rgba(0, 0, 0, 0.1), var(--handle-shadow),
    0 0 0 1px var(--figma-color-border-selected);
  --slider-transition: all 0.1s ease-in-out;
  --handle-transition: var(--slider-transition);

  display: inline-flex;
  align-items: center;
  position: relative;
  height: var(--slider-field-height);
  transition: var(--slider-transition);

  .fig-slider-input-container {
    height: var(--slider-height);
    position: relative;
    display: block;
    width: 100%;
    transition: var(--slider-transition);
    background: var(--figma-color-bg-secondary);
    border-radius: 0.5rem;
    box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);

    /* Track */
    &::before {
      content: "";
      background: var(--figma-color-bg-brand);
      position: absolute;
      left: 0;
      top: 0;
      pointer-events: none;
      bottom: 0;
      border-radius: 0.5rem;
      min-width: var(--slider-height);
      box-shadow: inset 0 0 0 1px var(--figma-color-bordertranslucent);
      width: calc(
        var(--slider-percent) + (1 - var(--slider-complete)) *
          var(--slider-height)
      );
      max-width: 100%;
    }
  }
  &[type="stepper"] {
    .fig-slider-input-container {
      &::before {
        display: none;
      }
    }
  }

  &[type="delta"] {
    datalist option {
      position: absolute;
      margin: 0;
      left: calc(var(--start-percent) - var(--slider-tick-size) / 2);
      top: calc(50% - var(--slider-tick-size) / 2);
    }
    .fig-slider-input-container {
      &::before {
        --left-start: calc(var(--start-percent) - var(--slider-height) / 2);
        left: min(
          var(--left-start),
          var(--slider-percent) - (var(--slider-complete)) *
            var(--slider-height)
        );
        --width: calc(var(--slider-percent) - var(--start-percent));
        --abs-width: max(
          var(--width) + var(--slider-height) / 2 + (1 - var(--slider-complete)) *
            var(--slider-height),
          -1 * var(--width) + var(--slider-height) / 2 + (
              var(--slider-complete)
            ) * var(--slider-height)
        );
        width: var(--abs-width);
        --delta: calc(var(--slider-complete) - var(--default));
        --abs-delta: max(var(--delta), -1 * var(--delta));
        opacity: calc(var(--abs-delta) * 100);
      }
    }
  }

  &[type="hue"],
  &[type="opacity"] {
    .fig-slider-input-container {
      &::before {
        display: none;
      }
    }
  }

  /* Chromium */
  input[type="range"] {
    height: var(--slider-height);
    appearance: none;
    -webkit-appearance: none;
    border-radius: calc(var(--slider-height) / 2);
    display: block;
    width: 100%;
    background-color: transparent;
    transition: var(--slider-transition);
    position: relative;

    &:active::-webkit-slider-thumb {
      cursor: grabbing;
      cursor: -webkit-grabbing;
    }

    &:focus {
      outline: none;
    }

    &::-webkit-slider-thumb {
      appearance: none;
      background: transparent;
      -webkit-appearance: none;
      color-scheme: inherit;
      transition: var(--handle-transition);
      border-radius: 100%;
      height: var(--slider-thumb-size);
      width: var(--slider-thumb-size);
      margin-top: calc(var(--slider-height) / 2 - var(--slider-thumb-size) / 2);
      aspect-ratio: 1;
      border: none;
      position: relative;
      z-index: 1;
      cursor: grab;
      cursor: -webkit-grab;
      box-shadow: var(--slider-handle-shadow);
    }

    &:disabled {
      cursor: not-allowed;

      &::-webkit-slider-runnable-track {
        color-scheme: inherit;
        background: linear-gradient(
          to right,
          var(--figma-color-bg-secondary) 0%,
          var(--figma-color-bg-secondary) var(--slider-percent),
          var(--figma-color-bg) var(--slider-percent)
        );
      }

      &::-webkit-slider-thumb {
        box-shadow: inset 0 0 0 1rem var(--figma-color-bg-disabled);
      }
    }

    &::-webkit-slider-runnable-track {
      color-scheme: inherit;
      height: var(--slider-height);
      background-color: transparent;
      transition: var(--slider-transition);
      border-radius: calc(var(--slider-height) / 2);
    }

    &.hue::-webkit-slider-runnable-track {
      background: var(--bg-hue);
    }

    &.opacity::-webkit-slider-runnable-track {
      background: linear-gradient(to right, transparent, var(--color)),
        var(--checkerboard);
    }
  }

  /* Firefox */
  input[type="range"] {
    height: var(--slider-height);
    appearance: none;
    -moz-appearance: none;
    border-radius: calc(var(--slider-height) / 2);
    display: block;
    width: 100%;
    background-color: transparent;
    transition: var(--slider-transition);
    position: relative;

    &:focus {
      outline: none;
    }

    &:active::-moz-range-thumb {
      cursor: grabbing;
      cursor: -webkit-grabbing;
    }

    &::-moz-range-thumb {
      color-scheme: inherit;
      appearance: none;
      -moz-appearance: none;
      background: transparent;
      border-radius: 100%;
      height: var(--slider-thumb-size);
      width: var(--slider-thumb-size);
      aspect-ratio: 1;
      border: none;
      position: relative;
      z-index: 1;
      cursor: grab;
      cursor: -moz-grab;
      box-shadow: var(--slider-handle-shadow);
      transition: var(--handle-transition);
    }

    &:disabled {
      cursor: not-allowed;

      &::-moz-range-track {
        color-scheme: inherit;
        background: linear-gradient(
          to right,
          var(--figma-color-bg-secondary) 0%,
          var(--figma-color-bg-secondary) var(--slider-percent),
          var(--figma-color-bg) var(--slider-percent)
        );
      }

      &::-moz-range-thumb {
        box-shadow: inset 0 0 0 1rem var(--figma-color-bg-disabled);
      }
    }

    &::-moz-range-track {
      height: var(--slider-height);
      background-color: transparent;
      border-radius: calc(var(--slider-height) / 2);
      transition: var(--slider-transition);
    }

    &.hue::-moz-range-track {
      background: var(--bg-hue);
    }

    &.opacity::-moz-range-track {
      background: linear-gradient(to right, transparent, var(--color)),
        var(--checkerboard);
    }
  }

  datalist {
    position: absolute;
    inset: 0;
    top: 0;
    display: flex;
    transition: var(--slider-transition);
    background: transparent;
    align-items: center;
    margin: 0;
    border: 0;
    appearance: none;
    padding: 0 calc((var(--slider-height) / 2) - var(--slider-tick-size) / 2);
    height: var(--slider-height);
    pointer-events: none;
    justify-content: space-between;
    width: 100%;

    & option {
      appearance: none;
      width: var(--slider-tick-size);
      height: var(--slider-tick-size);
      aspect-ratio: 1;
      padding: 0;
      border: 0;
      border-radius: 100%;
      font-size: 0;
      background: var(--figma-color-icon-tertiary);
      display: block;
      &[default] {
        background: var(--figma-color-icon);
      }

      &:first-child:last-child {
        margin: 0 auto;
      }
    }
  }

  &[variant="minimal"] {
    --slider-height: 0.375rem;
    --slider-thumb-size: 0.75rem;
    --slider-tick-size: calc(var(--slider-height) / 2);
    --handle-transition: none;
    --slider-transition: none;
    --slider-handle-shadow: inset 0 0 0 calc(6px + 0.5rem * var(--unchanged))
        var(--handle-color),
      0 0 0 0.75px rgba(0, 0, 0, 0.075), inset 0 0 0 5px rgba(0, 0, 0, 0.1),
      var(--figma-elevation-100);

    .fig-slider-input-container {
      height: var(--slider-height);
      position: relative;
      display: block;
      width: 100%;
    }
    fig-input-text {
      height: calc(var(--slider-height) * 2);
      background-color: transparent;
    }

    &:hover,
    &:focus-within {
      fig-input-text {
        height: auto;
      }
    }
  }
  &[variant="neue"] {
    --slider-height: 0.375rem;
    --slider-thumb-size: 0.75rem;
    --slider-tick-size: calc(var(--slider-height) / 2);
    --handle-transition: none;
    --slider-transition: none;
    --slider-handle-shadow: inset 0 0 0 calc(6px + 0.5rem * var(--unchanged))
        var(--handle-color),
      0 0 0 0.75px rgba(0, 0, 0, 0.075), inset 0 0 0 5px rgba(0, 0, 0, 0.1),
      var(--figma-elevation-100);

    background-color: var(--figma-color-bg-secondary);
    border-radius: var(--radius-medium);
    padding-left: var(--spacer-2);

    &:not([text="true"]) {
      padding-right: var(--spacer-2);
    }

    .fig-slider-input-container {
      height: var(--slider-height);
      position: relative;
      display: block;
      width: 100%;
      box-shadow: none;
      background-color: var(--figma-color-bg-tertiary);
    }
    fig-input-text,
    fig-input-number {
      flex-basis: 5rem;
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
      border-left: 1px solid var(--figma-color-bg);
    }

    &:hover,
    &:focus-within {
      fig-input-text,
      fig-input-number {
        height: auto;
      }
    }
  }
}

/* Popovers/Dialogs */
.dialog,
dialog,
.popover,
[popover] {
  padding: 0;
  outline: 0;
  border: 0;
  inset: auto;
  color: var(--figma-color-text);
  border-radius: var(--radius-large, 0.8125rem);
  background: var(--figma-color-bg);
  min-width: var(--popover-min-width);

  box-shadow: var(--figma-elevation-500-modal-window);

  footer {
    display: flex;
    justify-content: flex-end;
    padding: var(--spacer-2);
    gap: var(--spacer-2);
  }
  p {
    padding: 0 var(--spacer-3);
  }

  &:popover-open {
    display: block;
    outline: none !important;
  }

  & header {
    height: var(--spacer-6);
    margin: 0;
    padding: var(--spacer-2);
    display: flex;
    align-items: center;
    font-weight: var(--body-medium-strong-fontWeight);
    box-shadow: inset 0 -1px 0 0 var(--figma-color-border);

    & h3 {
      font: inherit;
    }

    & > :first-child {
      padding-left: var(--spacer-2);
    }
  }

  &[tooltip] {
    color: var(--color-tooltip);
    background-color: var(--bg-tooltip);
    padding: var(--spacer-1) var(--spacer-2);
    line-height: 1rem !important;
    box-sizing: content-box;
    min-width: var(--popover-min-width);
    max-width: var(--popover-min-width);
    /*top: calc(anchor(top) - 1ch - (var(--spacer-1) * 2 + 1rem));*/
    top: anchor(top);
    left: anchor(center);
    /*transform: translate(-50%,-100%);*/

    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;

    border-radius: var(--radius-medium, 0.3125rem);
    box-shadow: 0px 0px 0.5px 0px rgba(0, 0, 0, 0.15),
      0px 5px 12px 0px rgba(0, 0, 0, 0.13), 0px 1px 3px 0px rgba(0, 0, 0, 0.1);

    @supports (-webkit-line-clamp: 2) {
      white-space: initial;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
    }

    &:popover-open {
      display: inline-block;

      @supports (-webkit-line-clamp: 2) {
        display: -webkit-box;
      }

      min-width: 0;
    }
  }
}
dialog[is="fig-dialog"] {
  --z-index: 999999;
  z-index: var(--z-index);
}

dialog[is="fig-toast"] {
  --z-index: 999999;
  z-index: var(--z-index);
  box-shadow: var(--figma-elevation-100);
  border-radius: var(--radius-large);
  padding: var(--spacer-2) var(--spacer-3);
  align-items: center;
  gap: var(--spacer-2);
  height: 2.5rem;
  justify-content: center;
  min-width: 0;
  color: var(--figma-color-text);

  &[open] {
    display: flex;
  }

  & p {
    margin: 0;
    padding: 0;
    color: inherit;
    font-weight: var(--body-medium-strong-fontWeight);
  }

  hr[vertical] {
    margin: 0;
  }

  & fig-button:last-child {
    margin-right: calc(var(--spacer-2) * -1);
  }

  /* Theme: Dark (default) - hardcoded to ensure consistency regardless of global theme */
  &[theme="dark"] {
    background-color: #2c2c2c;
    color: rgba(255, 255, 255, 0.9);
    color-scheme: dark;
  }

  /* Theme: Light - hardcoded to ensure consistency regardless of global theme */
  &[theme="light"] {
    background-color: #ffffff;
    color: rgba(0, 0, 0, 0.9);
    box-shadow: var(--figma-elevation-500-modal-window);
    color-scheme: light;
  }

  /* Theme: Danger - hardcoded to ensure consistency regardless of global theme */
  &[theme="danger"] {
    background-color: #f24822;
    color: #ffffff;
    color-scheme: dark;
  }

  /* Theme: Brand - hardcoded to ensure consistency regardless of global theme */
  &[theme="brand"] {
    background-color: #0d99ff;
    color: #ffffff;
    color-scheme: dark;
  }
}

/* Tooltip */
fig-tooltip,
fig-popover {
  display: contents;
}
.fig-tooltip {
  inset: unset;
  display: inline-block;
  color: var(--color-tooltip);
  background-color: var(--bg-tooltip);
  padding: var(--spacer-1) var(--spacer-2);
  line-height: 1rem !important;
  font-weight: inherit;
  border-radius: var(--radius-medium, 0.3125rem);
  max-width: 180px;
  width: max-content;

  & > span {
    text-wrap: balance;
    max-height: 2.5rem;
    overflow-y: hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    line-clamp: 2;
    text-overflow: ellipsis;
    width: auto;
  }

  &:after {
    content: "";
    background-color: var(--bg-tooltip);
    clip-path: path(
      "M16 0H0L0 1H0.757359C1.55301 1 2.31607 1.31607 2.87868 1.87868L6.29587 5.29587C7.23704 6.23704 8.76296 6.23704 9.70413 5.29587L13.1213 1.87868C13.6839 1.31607 14.447 1 15.2426 1H16V0Z"
    );
    width: 1rem;
    height: 6px;
    position: absolute;
    top: calc(100% - 1px);
    left: var(--beak-offset, 50%);
    z-index: 2;
    transform: translate(-50%);
  }

  &[position="bottom"] {
    &:after {
      top: 1px;
      left: var(--beak-offset, 50%);
      transform: translate(-50%, -100%) scaleY(-1);
    }
  }
}

.fig-tooltip,
.fig-popover {
  overflow: visible;
  box-shadow: inset 0 0.5px 0 0 rgba(255, 255, 255, 0.1);
  filter: drop-shadow(0px 1px 1.5px rgba(0, 0, 0, 0.1))
    drop-shadow(0px 2.5px 6px rgba(0, 0, 0, 0.13))
    drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.15));

  &:after {
    content: "";
    background-color: inherit;
    clip-path: path(
      "M16 0H0L0 1H0.757359C1.55301 1 2.31607 1.31607 2.87868 1.87868L6.29587 5.29587C7.23704 6.23704 8.76296 6.23704 9.70413 5.29587L13.1213 1.87868C13.6839 1.31607 14.447 1 15.2426 1H16V0Z"
    );
    width: 1rem;
    height: 6px;
    position: absolute;
    top: calc(100% - 1px);
    left: var(--beak-offset, 50%);
    z-index: 2;
    transform: translate(-50%);
  }

  &[position="bottom"] {
    &:after {
      top: 1px;
      left: var(--beak-offset, 50%);
      transform: translate(-50%, -100%) scaleY(-1);
    }
  }
}

/* UI Icons */
fig-icon {
  display: block;
}

fig-icon.close {
  width: 1rem;
  height: 1rem;
  background-color: var(--figma-color-text);
  clip-path: path(
    "M11.6464 3.64645C11.8417 3.45118 12.1583 3.45118 12.3536 3.64645C12.5488 3.84171 12.5488 4.15829 12.3536 4.35355L8.70711 8L12.3536 11.6464C12.5488 11.8417 12.5488 12.1583 12.3536 12.3536C12.1583 12.5488 11.8417 12.5488 11.6464 12.3536L8 8.70711L4.35355 12.3536C4.15829 12.5488 3.84171 12.5488 3.64645 12.3536C3.45118 12.1583 3.45118 11.8417 3.64645 11.6464L7.29289 8L3.64645 4.35355C3.45118 4.15829 3.45118 3.84171 3.64645 3.64645C3.84171 3.45118 4.15829 3.45118 4.35355 3.64645L8 7.29289L11.6464 3.64645Z"
  );
}

/* Web Components */
fig-button,
fig-popover,
fig-content,
fig-slider,
fig-switch,
fig-input-color,
fig-input-fill,
fig-checkbox,
fig-radio,
fig-tab,
fig-tabs,
fig-segmented-control {
  display: inline-flex;
  gap: var(--spacer-2);
  user-select: none;

  &[full] {
    display: flex;
    width: 100%;
  }
}

fig-checkbox,
fig-radio {
  align-items: center;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;

  & label span {
    vertical-align: middle;
  }
}

fig-switch {
  align-items: center;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}

fig-input-color {
  --alpha: 1;
}

fig-header {
  height: var(--spacer-6);
  margin: 0;
  padding: var(--spacer-1) var(--spacer-2) var(--spacer-1) var(--spacer-3);
  display: flex;
  align-items: center;
  box-shadow: inset 0 -1px 0 0 var(--figma-color-border);
  gap: 0.25rem;

  & h3 {
    font-weight: var(--body-medium-strong-fontWeight);
    flex-grow: 1;
  }

  &[borderless] {
    box-shadow: none;
  }
}

fig-content {
  padding: var(--spacer-2) 0;
  display: block;
}

vstack,
.vstack,
[vstack] {
  display: flex;
  flex-direction: column;
  align-items: start;
  gap: var(--spacer-2);
  flex-wrap: wrap;
}

hstack,
.hstack,
[hstack] {
  display: flex;
  gap: var(--spacer-2);
  align-items: start;
  flex-wrap: nowrap;
}

fig-input-text,
fig-input-number {
  background-color: var(--figma-color-bg-secondary);
  border: 0;
  border-radius: var(--radius-medium);
  display: inline-flex;
  flex-wrap: nowrap;
  justify-content: center;
  user-select: all;
  gap: 0;
  min-width: 0;
  flex: 1;
  color: var(--figma-color-text);

  &[multiline] {
    display: flex;
    width: 100%; /* Multiline defaults to full width */
  }
  &[autoresize] input,
  &[autoresize] textarea {
    field-sizing: content;
  }
  &[resizable] input,
  &[resizable] textarea {
    resize: both;
  }
  &[resizable]:has(textarea[style*="width"]),
  &[resizable]:has(textarea[style*="height"]),
  &[resizable]:has(input[style*="width"]),
  &[resizable]:has(input[style*="height"]) {
    flex: unset;
  }

  & label,
  & [slot] {
    display: flex;
    flex-wrap: nowrap;
    justify-content: center;
    align-items: center;
    width: 100%;
  }

  & [slot] {
    user-select: none;
    width: 1.5rem;
    color: var(--figma-color-text-secondary);
  }

  & [slot="prepend"] {
    padding-right: 0;
    margin-right: calc(var(--spacer-2) * -1);
  }

  & [slot="append"] {
    padding-left: 0;
    margin-left: calc(var(--spacer-2) * -1);
  }

  & input {
    background-color: transparent !important;
    flex: 1;

    &:focus,
    &:active {
      box-shadow: none !important;
    }
  }

  &:has(input:focus) {
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    outline: 0;
  }
  &:hover {
    box-shadow: inset 0 0 0 1px var(--figma-color-border);
  }
  /* Disabled */
  &[disabled]:not([disabled="false"]) {
    background-color: var(--figma-color-bg);
    pointer-events: none;
    cursor: not-allowed;
    color: var(--figma-color-text-disabled);
    box-shadow: inset 0 0 0 1px var(--figma-color-border-disabled);
    & [slot] {
      color: var(--figma-color-text-disabled);
    }
  }
}

fig-input-color,
fig-input-fill {
  & > .input-combo > fig-chit:not(:only-child),
  & > .input-combo > fig-chit:not(:only-child) > input,
  & > .input-combo > fig-fill-picker:not(:only-child),
  & > .input-combo > fig-fill-picker:not(:only-child) > fig-chit > input,
  & fig-fill-picker:not(:only-child) {
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }

  & > .input-combo {
    flex: 1;
    min-width: 0;
  }

  fig-input-number {
    flex: 0;
    flex-basis: 3.25rem;
  }

  &[disabled]:not([disabled="false"]) {
    .input-combo {
      gap: 0;
    }
  }
}

fig-slider {
  display: flex;

  & .slider {
    flex-grow: 1;
  }

  & fig-input-number {
    width: 5rem;
  }
}

fig-field,
.fig-field {
  --field-label-width: 4rem;
  display: flex;
  padding: var(--spacer-1) var(--spacer-3);
  margin: 0;
  flex-direction: column;
  gap: 0;
  align-items: start;

  &[direction="row"],
  &[direction="horizontal"] {
    flex-direction: row;
    align-items: center;
    gap: var(--spacer-2);
  }

  & > [full] {
    flex: 1;
    flex: 1 1 auto;
  }

  & > label {
    flex: 0;
    padding: var(--spacer-1) 0;
    display: flex;
    justify-content: space-between;
    min-height: calc(1rem + var(--spacer-1) * 2);
    align-items: center;
    width: 100%;
  }

  &[direction="row"] > label,
  &[direction="horizontal"] > label {
    width: auto;
    min-width: var(--field-label-width);
  }

  &[direction="horizontal"] {
    gap: var(--spacer-2);
    align-items: start;
    flex-direction: row;
    width: auto;

    & > label {
      min-width: 4rem;
    }
  }
}

fig-spinner {
  width: 1rem;
  height: 1rem;
  display: inline-flex;
  background-color: var(--figma-color-icon-tertiary);
  clip-path: path(
    "M15.9995 7.86066C16.0271 9.44267 15.585 10.9973 14.729 12.3281C13.8731 13.6588 12.6417 14.7058 11.1907 15.3368C9.73968 15.9677 8.13415 16.1542 6.57716 15.8726C5.02016 15.591 3.58161 14.8541 2.44344 13.755C1.30526 12.6559 0.518574 11.2439 0.182856 9.69769C-0.152862 8.15147 -0.0225313 6.54042 0.557366 5.06826C1.13726 3.59611 2.14068 2.32898 3.44073 1.4271C4.74079 0.525221 6.27908 0.0291073 7.86109 0.00149397L7.87922 1.04037C6.50268 1.06439 5.16418 1.49607 4.03298 2.28081C2.90177 3.06556 2.02868 4.16812 1.5241 5.44907C1.01952 6.73002 0.906114 8.13183 1.19823 9.47724C1.49034 10.8226 2.17486 12.0512 3.16521 13.0076C4.15556 13.9639 5.40727 14.6052 6.76204 14.8502C8.11682 15.0951 9.51382 14.9329 10.7764 14.3839C12.0389 13.8349 13.1104 12.9239 13.8552 11.766C14.5999 10.6081 14.9846 9.25533 14.9606 7.87879L15.9995 7.86066Z"
  );
  animation: fig-spinner-spin 1s linear infinite;
}

/* Segmented control */
.segmented-control,
fig-segmented-control {
  display: inline-flex;
  user-select: none;
  background-color: var(--figma-color-bg-secondary);
  border: 0;
  border-radius: var(--radius-medium);
  height: 1.5rem;
  padding: 1px;
  gap: 0;
  display: inline-flex;
  align-items: stretch;

  & fig-segment {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    appearance: none;
    color: var(--figma-color-text-secondary);
    padding: 0 var(--spacer-2);

    &[selected]:not([selected="false"]),
    &[selected="true"] {
      color: var(--figma-color-text);
      background-color: var(--figma-color-bg);
      border-radius: calc(var(--radius-medium) - 1px);
      box-shadow: 0 0 0 1px var(--figma-color-border);
    }

    svg {
      *[fill] {
        fill: currentColor;
      }
      *[stroke]:not([stroke="none"]) {
        stroke: currentColor;
      }
    }
  }
}

fig-input-joystick {
  --size: 1.5rem;
  display: inline-flex;
  gap: var(--spacer-2);
  user-select: none;

  /* When inside horizontal fig-field, grow to fill and let inputs expand */
  fig-field[direction="horizontal"] & {
    flex: 1;
    min-width: 0;

    fig-input-number {
      flex: 1;
      width: auto;
    }
  }
  .fig-input-joystick-plane-container {
    display: flex;
    width: 1.5rem;
    height: 1.5rem;
    place-items: center;
    flex-shrink: 0;
    flex-grow: 0;
    align-items: center;
    justify-content: center;
    position: relative;
    &:focus {
      outline: 0;
    }
  }
  .fig-input-joystick-plane {
    display: inline-grid;
    place-items: center;
    position: relative;
    width: var(--size);
    height: var(--size);
    flex-shrink: 0;
    &.dragging {
      cursor: grab;
      --size: 3rem;
      z-index: 2;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
  .fig-input-joystick-plane > * {
    grid-area: 1/1;
  }
  .fig-input-joystick-guides {
    position: absolute;
    width: var(--size);
    height: var(--size);
    box-shadow: inset 0 0 0 1px var(--figma-color-border);
    border-radius: var(--radius-medium);
    overflow: hidden;
    background: var(--figma-color-bg-secondary);

    &:before {
      content: "";
      position: absolute;
      height: 0;
      border-left: 1px solid var(--figma-color-border);
      height: calc(100% - 2px);
      top: 1px;
      left: calc(50% - 0.5px);
      pointer-events: none;
    }
    &:after {
      content: "";
      position: absolute;
      height: 0;
      border-top: 1px solid var(--figma-color-border);
      width: calc(100% - 2px);
      top: calc(50% - 0.5px);
      left: 1px;
      pointer-events: none;
    }
  }
  .fig-input-joystick-plane.dragging .fig-input-joystick-guides {
    background: linear-gradient(
        45deg,
        transparent calc(50% - 0.5px),
        var(--figma-color-border) calc(50% - 0.5px),
        var(--figma-color-border) calc(50% + 0.5px),
        transparent calc(50% + 0.5px)
      ),
      linear-gradient(
        -45deg,
        transparent calc(50% - 0.5px),
        var(--figma-color-border) calc(50% - 0.5px),
        var(--figma-color-border) calc(50% + 0.5px),
        transparent calc(50% + 0.5px)
      ),
      var(--figma-color-bg-secondary);
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
  }
  .fig-input-joystick-plane-container:focus .fig-input-joystick-guides {
    box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
  }

  .fig-input-joystick-handle {
    position: absolute;
    z-index: 1;
    width: 0.5rem;
    height: 0.5rem;
    background: var(--handle-color);
    box-shadow: var(--handle-shadow);
    border-radius: 50%;
    transform: translate(-50%, -50%);
  }
}

fig-input-angle {
  --size: 1.5rem;
  display: inline-flex;
  gap: var(--spacer-2);
  user-select: none;

  /* When inside horizontal fig-field, grow to fill and let inputs expand */
  fig-field[direction="horizontal"] & {
    flex: 1;
    min-width: 0;

    fig-input-number {
      flex: 1;
      width: auto;
    }
  }

  .fig-input-angle-plane {
    display: inline-grid;
    place-items: center;
    width: var(--size);
    height: var(--size);
    aspect-ratio: 1/1;
    flex-shrink: 0;
    background-color: var(--figma-color-bg-secondary);
    border-radius: 100%;
    box-shadow: inset 0 0 0 1px var(--figma-color-border);
    &:focus,
    &.dragging {
      outline: 0;
      box-shadow: inset 0 0 0 1px var(--figma-color-border-selected);
    }
  }
  .fig-input-angle-handle {
    display: inline-grid;
    place-items: center;
    grid-area: 1/1;
    width: calc(0.5rem + 2px);
    height: calc(0.5rem + 2px);
    &::before {
      content: "";
      display: block;
      width: 0.5rem;
      height: 0.5rem;
      background: var(--handle-color);
      box-shadow: var(--handle-shadow);
      border-radius: 50%;
    }
  }
}

/* Layer */
fig-layer {
  --indent: var(--spacer-4);
  display: block;
  color: var(--figma-color-text);
  position: relative;
  user-select: none;
  border-radius: var(--radius-medium);

  /* Show chevron when layer has children */
  &:has(fig-layer) > .fig-layer-row > .fig-layer-chevron {
    visibility: visible;
  }

  &:not(:has(.fig-layer-icon)) {
    & > .fig-layer-row {
      padding-left: var(--spacer-3);
    }
  }

  & > .fig-layer-row {
    display: flex;
    align-items: center;
    gap: var(--spacer-1);
    padding: var(--spacer-1) var(--spacer-2);
    margin-left: var(--spacer-2);
    border-radius: var(--radius-medium);
    position: relative;

    /* Chevron element - injected by JS when layer has children */
    .fig-layer-chevron {
      mask-image: var(--icon-chevron);
      mask-size: contain;
      mask-repeat: no-repeat;
      mask-position: center;
      display: flex;
      visibility: hidden;
      margin-left: calc(-1 * (var(--spacer-3) + var(--spacer-1) + 2px));
      margin-right: calc(-1 * (var(--spacer-1) + 2px));
      background: var(--figma-color-text-tertiary);
      width: var(--spacer-3);
      height: var(--spacer-3);
      flex-shrink: 0;
      transform: rotate(-90deg);
      transition: transform 0.15s;
    }

    &:hover {
      background: var(--figma-color-bg-secondary);

      .fig-layer-actions {
        opacity: 1;
      }
    }

    /* Layer icon */
    .fig-layer-icon {
      flex-shrink: 0;
      width: var(--spacer-3);
      height: var(--spacer-3);
      color: var(--figma-color-icon-tertiary);
      margin-left: var(--spacer-1);
    }

    > label {
      flex: 1;
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      color: var(--figma-color-text);
    }
  }

  .fig-layer-actions {
    display: flex;
    margin-right: calc(-1 * var(--spacer-1));
    gap: 0;
    opacity: 0;
    transition: opacity 0.15s;
    flex-shrink: 0;

    > * {
      flex-shrink: 0;
    }
  }

  /* Nested layers indentation */
  > fig-layer {
    padding-left: var(--indent);
    margin-top: 1px;
  }

  /* Collapsed state - hide children */
  &:not([open]) > fig-layer,
  &[open="false"] > fig-layer {
    display: none;
  }

  /* Rotate chevron when open */
  &[open]:not([open="false"]) > .fig-layer-row > .fig-layer-chevron {
    transform: rotate(0deg);
  }

  /* Dimmed when not visible */
  &[visible="false"] > .fig-layer-row {
    & > label {
      color: var(--figma-color-text-tertiary);
    }
  }

  /* Selected state */
  &[selected]:not([selected="false"]) {
    & > .fig-layer-row {
      background: var(--figma-color-bg-selected);
      & > .fig-layer-icon {
        color: var(--figma-color-icon);
      }
    }
  }
}

/* Shimmer */
fig-shimmer {
  display: contents;
  --shimmer-angle: 90deg;
  --shimmer-size: 250% 100%;
  --shimmer-duration: 1.5s;

  &[direction="vertical"] {
    --shimmer-angle: 180deg;
    --shimmer-size: 100% 250%;
  }
  &[direction="diagonal"] {
    --shimmer-angle: 135deg;
    --shimmer-size: 250% 250%;
  }

  /* When not playing, remove shimmer effect entirely */
  &[playing="false"] > * {
    background: none;
    -webkit-background-clip: unset;
    background-clip: unset;
    -webkit-text-fill-color: unset;
    animation: none;
  }
}

/* Only apply shimmer when playing (default) or playing="true" */
fig-shimmer:not([playing="false"]) > * {
  background: linear-gradient(
    var(--shimmer-angle),
    var(--figma-color-text-tertiary) 0%,
    var(--figma-color-text-tertiary) 40%,
    var(--figma-color-text) 50%,
    var(--figma-color-text-tertiary) 60%,
    var(--figma-color-text-tertiary) 100%
  );
  background-size: var(--shimmer-size);
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: fig-shimmer var(--shimmer-duration) linear infinite;
}

/* Fill Picker */
fig-fill-picker {
  display: contents;
}

.fig-fill-picker-dialog {
  width: 240px;
  padding: 0;

  fig-header {
    padding: var(--spacer-2);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  fig-tab {
    font-size: 0.6875rem;
    padding: var(--spacer-1) var(--spacer-1);
  }
}

.fig-fill-picker-type-label {
  font-size: var(--font-size-small);
  font-weight: var(--font-weight-medium);
  color: var(--figma-color-text);
  padding: var(--spacer-1) var(--spacer-2);
}

.fig-fill-picker-content {
  padding: var(--spacer-3);
}

.fig-fill-picker-tab {
  display: none;

  &:first-child {
    display: block;
  }
}

/* Solid Tab */
.fig-fill-picker-color-area {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  border-radius: var(--radius-medium);
  overflow: visible;
  margin-bottom: var(--spacer-2);

  canvas {
    width: 100%;
    height: 100%;
    border-radius: var(--radius-medium);
  }
}

.fig-fill-picker-handle {
  position: absolute;
  width: 1rem;
  height: 1rem;
  border-radius: 50%;
  background: var(--picker-color);
  box-shadow: inset 0 0 0 0.125rem var(--handle-color),
    0px 0 0 0.5px rgba(0, 0, 0, 0.1), var(--figma-elevation-200);
  transform: translate(-50%, -50%);
  z-index: 1;
  &:hover {
    box-shadow: inset 0 0 0 0.25rem var(--handle-color),
      0px 0 0 0.5px rgba(0, 0, 0, 0.1), var(--figma-elevation-200);
    transform: translate(-50%, -50%);
  }
}

.fig-fill-picker-sliders {
  display: flex;
  flex-direction: column;
  gap: var(--spacer-2);
  margin-bottom: var(--spacer-2);

  fig-slider {
    width: 100%;
  }
}

.fig-fill-picker-inputs {
  display: flex;
  gap: var(--spacer-1);
  align-items: center;

  .fig-fill-picker-color-input {
    flex: 1;
  }
}

/* Gradient Tab */
.fig-fill-picker-gradient-header {
  display: flex;
  gap: var(--spacer-2);
  align-items: center;
  margin-bottom: var(--spacer-2);

  & > *:last-child fig-button {
    margin-left: auto;
  }

  .fig-fill-picker-gradient-center {
    fig-input-number {
      width: 48px;
    }
  }
}

.fig-fill-picker-gradient-preview {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  border-radius: var(--radius-medium);
  overflow: hidden;
  margin-bottom: var(--spacer-2);
}

.fig-fill-picker-gradient-bar {
  position: absolute;
  inset: 0;
  border-radius: var(--radius-medium);
  background: linear-gradient(90deg, #d9d9d9 0%, #737373 100%);
}

.fig-fill-picker-gradient-stops-handles {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
}

.fig-fill-picker-gradient-stops {
  .fig-fill-picker-gradient-stops-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacer-1);
    font-size: 0.75rem;
    color: var(--figma-color-text-secondary);
  }
}

.fig-fill-picker-gradient-stops-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacer-1);
}

.fig-fill-picker-gradient-stop-row {
  display: flex;
  gap: var(--spacer-1);
  align-items: center;

  & > .fig-fill-picker-stop-position {
    flex: 0;
    flex-basis: 3rem;
    min-width: 0;
    width: 3rem;
  }

  .fig-fill-picker-stop-color {
    flex: 1;
    min-width: 0;
    fig-input-text {
      min-width: 0;
    }
  }

  .fig-fill-picker-stop-remove {
    flex-shrink: 0;
  }
}

/* Media Tabs (Image/Video/Webcam) */
.fig-fill-picker-media-header {
  display: flex;
  gap: var(--spacer-1);
  align-items: center;
  margin-bottom: var(--spacer-2);

  .fig-fill-picker-scale-mode {
    flex: 1;
  }

  .fig-fill-picker-scale {
    width: 56px;
  }
}

.fig-fill-picker-media-preview {
  position: relative;
  aspect-ratio: 1;
  border-radius: var(--radius-medium);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;

  &.dragover {
    outline: 2px dashed var(--figma-color-border-brand);
    outline-offset: -2px;
  }

  &.has-media {
    fig-button {
      visibility: hidden;
    }
    &:hover {
      fig-button {
        visibility: visible;
      }
    }
  }
}

.fig-fill-picker-checkerboard {
  position: absolute;
  inset: 0;
  background-image: linear-gradient(
      45deg,
      var(--figma-color-bg-tertiary) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--figma-color-bg-tertiary) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--figma-color-bg-tertiary) 75%),
    linear-gradient(-45deg, transparent 75%, var(--figma-color-bg-tertiary) 75%);
  background-size: 16px 16px;
  background-position: 0 0, 0 8px, 8px -8px, -8px 0px;
}

.fig-fill-picker-image-preview {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: none;
}

.fig-fill-picker-video-preview {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: none;
}

.fig-fill-picker-upload {
  position: relative;
  z-index: 1;
}

/* Webcam Tab */
.fig-fill-picker-webcam-preview {
  position: relative;
  aspect-ratio: 1;
  border-radius: var(--radius-medium);
  overflow: hidden;
  margin-bottom: var(--spacer-2);
}

.fig-fill-picker-webcam-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.fig-fill-picker-webcam-status {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--figma-color-bg-secondary);
  color: var(--figma-color-text-secondary);
  font-size: 0.75rem;
}

.fig-fill-picker-webcam-controls {
  display: flex;
  gap: var(--spacer-1);

  .fig-fill-picker-camera-select {
    flex: 1;
  }

  .fig-fill-picker-webcam-capture {
    flex-shrink: 0;
  }
}

/* Utilities */

.fig-mask-icon {
  --size: var(--spacer-4);
  --icon: var(--icon-add);
  display: inline-flex;
  width: var(--size);
  height: var(--size);
  background: currentColor;
  mask-image: var(--icon);
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  -webkit-mask-image: var(--icon);
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

@keyframes fig-spinner-spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@keyframes fig-shimmer {
  0% {
    background-position: 100% 100%;
  }
  100% {
    background-position: 0% 0%;
  }
}
